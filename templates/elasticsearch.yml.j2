cluster.name: {{ es_cluster_name }}

node.name: {{ ansible_hostname.split(".")[0] }}

path.data: /var/lib/elasticsearch
path.logs: /var/log/elasticsearch

network.host: {{ ansible_host }}

discovery.seed_hosts:
{% for host in groups["elasticsearch"] %}
{% if hostvars[host].master_eligible %}
  - {{ host }}
{#  - {{ hostvars[host].ansible_host }} #} {# to test w/o working dns #}
{% endif %}
{% endfor %}

cluster.initial_master_nodes:
{% for host in groups["elasticsearch"] %}
{% if hostvars[host].master_eligible %}
{#  - {{ host.split(".")[0] }} #}
  - {{ hostvars[host].ansible_host }} {# to test w/o working dns #}
{% endif %}
{% endfor %}